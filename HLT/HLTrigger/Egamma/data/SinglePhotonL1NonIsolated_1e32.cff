#--------------------------------------------------------------------#
# L1 MATCH
#--------------------------------------------------------------------#
module hltL1NonIsoSinglePhotonL1MatchFilterRegional = hltEgammaL1MatchFilterRegional from "HLTrigger/Egamma/data/hltEgammaL1MatchFilterRegional.cfi" 

     replace hltL1NonIsoSinglePhotonL1MatchFilterRegional.candIsolatedTag = l1IsoRecoEcalCandidate
     replace hltL1NonIsoSinglePhotonL1MatchFilterRegional.candNonIsolatedTag = l1NonIsoRecoEcalCandidate
replace hltL1NonIsoSinglePhotonL1MatchFilterRegional.L1SeedFilterTag=l1seedRelaxedSingle

      replace  hltL1NonIsoSinglePhotonL1MatchFilterRegional.ncandcut = 1
     replace  hltL1NonIsoSinglePhotonL1MatchFilterRegional.doIsolated = false


#--------------------------------------------------------------------#
# ET CUT
#--------------------------------------------------------------------#
module hltL1NonIsoSinglePhotonEtFilter = hltEgammaEtFilter from "HLTrigger/Egamma/data/hltEgammaEtFilter.cfi"

replace hltL1NonIsoSinglePhotonEtFilter.inputTag = hltL1NonIsoSinglePhotonL1MatchFilterRegional
replace hltL1NonIsoSinglePhotonEtFilter.etcut = 40.0
replace hltL1NonIsoSinglePhotonEtFilter.ncandcut = 1

#--------------------------------------------------------------------#
# ECAL ISOL
#--------------------------------------------------------------------#
module hltL1NonIsoSinglePhotonEcalIsolFilter = hltPhotonEcalIsolFilter from "HLTrigger/Egamma/data/hltPhotonEcalIsolFilter.cfi" 

replace hltL1NonIsoSinglePhotonEcalIsolFilter.candTag = hltL1NonIsoSinglePhotonEtFilter
replace hltL1NonIsoSinglePhotonEcalIsolFilter.isoTag  = l1IsolatedPhotonEcalIsol
replace hltL1NonIsoSinglePhotonEcalIsolFilter.nonIsoTag  = l1NonIsolatedPhotonEcalIsol
replace hltL1NonIsoSinglePhotonEcalIsolFilter.ecalisolcut = 1.5
replace hltL1NonIsoSinglePhotonEcalIsolFilter.ncandcut = 1
replace hltL1NonIsoSinglePhotonEcalIsolFilter.doIsolated = false

#--------------------------------------------------------------------#
# HCAL ISOL
#--------------------------------------------------------------------#
module hltL1NonIsoSinglePhotonHcalIsolFilter = hltEgammaHcalIsolFilter from "HLTrigger/Egamma/data/hltEgammaHcalIsolFilter.cfi"

 replace hltL1NonIsoSinglePhotonHcalIsolFilter.candTag = hltL1NonIsoSinglePhotonEcalIsolFilter
 replace hltL1NonIsoSinglePhotonHcalIsolFilter.isoTag = l1IsolatedPhotonHcalIsol
 replace hltL1NonIsoSinglePhotonHcalIsolFilter.nonIsoTag  = l1NonIsolatedPhotonHcalIsol
 replace hltL1NonIsoSinglePhotonHcalIsolFilter.hcalisolbarrelcut = 6.
 replace hltL1NonIsoSinglePhotonHcalIsolFilter.hcalisolendcapcut = 4.
 replace hltL1NonIsoSinglePhotonHcalIsolFilter.ncandcut = 1
 replace hltL1NonIsoSinglePhotonHcalIsolFilter.doIsolated = false

#--------------------------------------------------------------------#
# TRACK ISOL
#--------------------------------------------------------------------#
 module hltL1NonIsoSinglePhotonTrackIsolFilter = hltPhotonTrackIsolFilter from "HLTrigger/Egamma/data/hltPhotonTrackIsolFilter.cfi"

replace  hltL1NonIsoSinglePhotonTrackIsolFilter.candTag  = hltL1NonIsoSinglePhotonHcalIsolFilter
replace  hltL1NonIsoSinglePhotonTrackIsolFilter.isoTag   = l1IsoPhotonTrackIsol
replace  hltL1NonIsoSinglePhotonTrackIsolFilter.nonIsoTag  = l1NonIsoPhotonTrackIsol
replace  hltL1NonIsoSinglePhotonTrackIsolFilter.numtrackisolcut = 1
replace  hltL1NonIsoSinglePhotonTrackIsolFilter.ncandcut = 1
replace  hltL1NonIsoSinglePhotonTrackIsolFilter.doIsolated = false

#--------------------------------------------------------------------#
#--------------------------------------------------------------------#

  module singlePhotonL1NonIsoPresc = HLTPrescaler {
         bool   makeFilterObject = true
         uint32 prescaleFactor = 1
         uint32 eventOffset    = 0
  }



  sequence singlePhotonL1NonIsolated = {
	                   hltBegin&
                           ##doL1T &
                           l1seedRelaxedSingle &
 		           doRegionalEgammaEcal &
# 		           doLocalEcal &
                           l1IsolatedEcalClusters  &
                           l1NonIsolatedEcalClusters  &
                           l1IsoRecoEcalCandidate &
                           l1NonIsoRecoEcalCandidate &
                           hltL1NonIsoSinglePhotonL1MatchFilterRegional &
                           hltL1NonIsoSinglePhotonEtFilter & 
	                   l1IsolatedPhotonEcalIsol & 
	                   l1NonIsolatedPhotonEcalIsol & 
		           hltL1NonIsoSinglePhotonEcalIsolFilter &
                           doLocalHcalWithoutHO &
                           l1IsolatedPhotonHcalIsol & 
                           l1NonIsolatedPhotonHcalIsol & 
                           hltL1NonIsoSinglePhotonHcalIsolFilter &
                           doLocalTracker &
                           l1IsoEgammaRegionalRecoTracker &
                           l1NonIsoEgammaRegionalRecoTracker &
                           l1IsoPhotonTrackIsol & 
                           l1NonIsoPhotonTrackIsol & 
                           hltL1NonIsoSinglePhotonTrackIsolFilter &
                           singlePhotonL1NonIsoPresc
	                  }
