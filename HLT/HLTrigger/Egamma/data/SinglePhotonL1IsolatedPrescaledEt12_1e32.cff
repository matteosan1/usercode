#--------------------------------------------------------------------#
# L1 MATCH
#--------------------------------------------------------------------#
module hltL1IsoSinglePhotonPrescaledL1MatchFilter  =  hltEgammaL1MatchFilterRegional from "HLTrigger/Egamma/data/hltEgammaL1MatchFilterRegional.cfi"
replace hltL1IsoSinglePhotonPrescaledL1MatchFilter.candIsolatedTag = l1IsoRecoEcalCandidate
replace hltL1IsoSinglePhotonPrescaledL1MatchFilter.L1SeedFilterTag = l1seedSinglePrescaled

#--------------------------------------------------------------------#
# ET CUT
#--------------------------------------------------------------------#
module hltL1IsoSinglePhotonPrescaledEtFilter = hltEgammaEtFilter from "HLTrigger/Egamma/data/hltEgammaEtFilter.cfi"

 replace hltL1IsoSinglePhotonPrescaledEtFilter.inputTag = hltL1IsoSinglePhotonPrescaledL1MatchFilter
 replace hltL1IsoSinglePhotonPrescaledEtFilter.etcut = 12.0
#      int32  ncandcut = 1

#--------------------------------------------------------------------#
# ECAL ISOL
#--------------------------------------------------------------------#
module hltL1IsoSinglePhotonPrescaledEcalIsolFilter = hltPhotonEcalIsolFilter from "HLTrigger/Egamma/data/hltPhotonEcalIsolFilter.cfi" 

replace hltL1IsoSinglePhotonPrescaledEcalIsolFilter.candTag = hltL1IsoSinglePhotonPrescaledEtFilter
replace hltL1IsoSinglePhotonPrescaledEcalIsolFilter.isoTag  = l1IsolatedPhotonEcalIsol
#double ecalisolcut = 1.5
#int32 ncandcut = 1

#--------------------------------------------------------------------#
# HCAL ISOL
#--------------------------------------------------------------------#
module hltL1IsoSinglePhotonPrescaledHcalIsolFilter = hltEgammaHcalIsolFilter from "HLTrigger/Egamma/data/hltEgammaHcalIsolFilter.cfi"

 replace hltL1IsoSinglePhotonPrescaledHcalIsolFilter.candTag = hltL1IsoSinglePhotonPrescaledEcalIsolFilter 
 replace hltL1IsoSinglePhotonPrescaledHcalIsolFilter.isoTag = l1IsolatedPhotonHcalIsol
 replace hltL1IsoSinglePhotonPrescaledHcalIsolFilter.hcalisolbarrelcut = 6.
 replace hltL1IsoSinglePhotonPrescaledHcalIsolFilter.hcalisolendcapcut = 4.
#      int32 ncandcut = 1


#--------------------------------------------------------------------#
# TRACK ISOL
#--------------------------------------------------------------------#
 module hltL1IsoSinglePhotonPrescaledTrackIsolFilter = hltPhotonTrackIsolFilter from "HLTrigger/Egamma/data/hltPhotonTrackIsolFilter.cfi"

replace  hltL1IsoSinglePhotonPrescaledTrackIsolFilter.candTag  = hltL1IsoSinglePhotonPrescaledHcalIsolFilter
replace  hltL1IsoSinglePhotonPrescaledTrackIsolFilter.isoTag   = l1IsoPhotonTrackIsol
#      double numtrackisolcut = 1
#      int32 ncandcut = 1


#--------------------------------------------------------------------#
#--------------------------------------------------------------------#

  module singlePhotonPrescaledL1IsoPresc = HLTPrescaler {
         bool   makeFilterObject = true
         uint32 prescaleFactor = 1
         uint32 eventOffset    = 0
  }



  sequence singlePhotonPrescaledL1Isolated = {
	                   hltBegin&
                           l1seedSinglePrescaled & 
		           doRegionalEgammaEcal &
                           l1IsolatedEcalClusters  &
                           l1IsoRecoEcalCandidate &
                           hltL1IsoSinglePhotonPrescaledL1MatchFilter &
                           hltL1IsoSinglePhotonPrescaledEtFilter & 
	                   l1IsolatedPhotonEcalIsol & hltL1IsoSinglePhotonPrescaledEcalIsolFilter &
                           doLocalHcalWithoutHO &
                           l1IsolatedPhotonHcalIsol & hltL1IsoSinglePhotonPrescaledHcalIsolFilter &
                           doLocalTracker &
                           l1IsoEgammaRegionalRecoTracker &
                           l1IsoPhotonTrackIsol & hltL1IsoSinglePhotonPrescaledTrackIsolFilter &
                           singlePhotonPrescaledL1IsoPresc
	                  }
