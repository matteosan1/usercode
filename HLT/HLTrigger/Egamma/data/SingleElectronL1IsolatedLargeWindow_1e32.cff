#--------------------------------------------------------------------#
# L1 MATCH
#--------------------------------------------------------------------#
module hltL1IsoLargeWindowSingleL1MatchFilter = hltEgammaL1MatchFilterRegional from "HLTrigger/Egamma/data/hltEgammaL1MatchFilterRegional.cfi" 

     replace hltL1IsoLargeWindowSingleL1MatchFilter.candIsolatedTag = l1IsoRecoEcalCandidate
     replace hltL1IsoLargeWindowSingleL1MatchFilter.L1SeedFilterTag = l1seedSingle

	
#--------------------------------------------------------------------#
# ET CUT
#--------------------------------------------------------------------#
module hltL1IsoLargeWindowSingleElectronEtFilter = hltEgammaEtFilter from "HLTrigger/Egamma/data/hltEgammaEtFilter.cfi"

 replace hltL1IsoLargeWindowSingleElectronEtFilter.inputTag = hltL1IsoLargeWindowSingleL1MatchFilter
 replace hltL1IsoLargeWindowSingleElectronEtFilter.etcut = 15.0
#      int32  ncandcut = 1


#--------------------------------------------------------------------#
# HCAL ISOL
#--------------------------------------------------------------------#
module hltL1IsoLargeWindowSingleElectronHcalIsolFilter = hltEgammaHcalIsolFilter from "HLTrigger/Egamma/data/hltEgammaHcalIsolFilter.cfi"

 replace hltL1IsoLargeWindowSingleElectronHcalIsolFilter.candTag = hltL1IsoLargeWindowSingleElectronEtFilter
 replace hltL1IsoLargeWindowSingleElectronHcalIsolFilter.isoTag = l1IsolatedElectronHcalIsol
#      double hcalisolbarrelcut = 3.
#      double hcalisolendcapcut = 3.
#      int32 ncandcut = 1

#--------------------------------------------------------------------#
# PIXEL MATCH
#--------------------------------------------------------------------#
module hltL1IsoLargeWindowSingleElectronPixelMatchFilter = hltElectronPixelMatchFilter from "HLTrigger/Egamma/data/hltElectronPixelMatchFilter.cfi"

  replace hltL1IsoLargeWindowSingleElectronPixelMatchFilter.candTag = hltL1IsoLargeWindowSingleElectronHcalIsolFilter
  replace hltL1IsoLargeWindowSingleElectronPixelMatchFilter.L1IsoPixelSeedsTag = l1IsoLargeWindowElectronPixelSeeds
#      double   npixelmatchcut         = 1
#      int32    ncandcut               = 1

## #--------------------------------------------------------------------#
## # E OVER P
## #--------------------------------------------------------------------#
##  module hltL1IsoLargeWindowSingleElectronEoverpFilter = hltElectronEoverpFilter from "HLTrigger/Egamma/data/hltElectronEoverpFilter.cfi"
## 
##  replace hltL1IsoLargeWindowSingleElectronEoverpFilter.candTag = hltL1IsoLargeWindowSingleElectronPixelMatchFilter
##  replace hltL1IsoLargeWindowSingleElectronEoverpFilter.electronIsolatedProducer = pixelMatchElectronsL1IsoLargeWindowForHLT 
## replace hltL1IsoLargeWindowSingleElectronEoverpFilter.doIsolated = true
## 
## #      double eoverpbarrelcut = 1.5
## #      double eoverpendcapcut = 2.45
## #      int32 ncandcut = 1

 #--------------------------------------------------------------------#
 # 1/E - 1/P
 #--------------------------------------------------------------------#
 module hltL1IsoLargeWindowSingleElectronHOneOEMinusOneOPFilter = hltElectronOneOEMinusOneOPFilter from "HLTrigger/Egamma/data/hltElectronOneOEMinusOneOPFilter.cfi"

  replace hltL1IsoLargeWindowSingleElectronHOneOEMinusOneOPFilter.candTag =  hltL1IsoLargeWindowSingleElectronPixelMatchFilter
  replace hltL1IsoLargeWindowSingleElectronHOneOEMinusOneOPFilter.electronIsolatedProducer = pixelMatchElectronsL1IsoLargeWindowForHLT
  replace hltL1IsoLargeWindowSingleElectronHOneOEMinusOneOPFilter.electronNonIsolatedProducer = pixelMatchElectronsL1NonIsoLargeWindowForHLT
  replace hltL1IsoLargeWindowSingleElectronHOneOEMinusOneOPFilter.barrelcut = 999.03
  replace hltL1IsoLargeWindowSingleElectronHOneOEMinusOneOPFilter.endcapcut = 999.03
  replace hltL1IsoLargeWindowSingleElectronHOneOEMinusOneOPFilter.ncandcut = 1
  replace hltL1IsoLargeWindowSingleElectronHOneOEMinusOneOPFilter.doIsolated = true

 

#--------------------------------------------------------------------#
# TRACK ISOL
#--------------------------------------------------------------------#
 module hltL1IsoLargeWindowSingleElectronTrackIsolFilter = hltElectronTrackIsolFilter from "HLTrigger/Egamma/data/hltElectronTrackIsolFilter.cfi"

replace  hltL1IsoLargeWindowSingleElectronTrackIsolFilter.candTag  = hltL1IsoLargeWindowSingleElectronHOneOEMinusOneOPFilter
replace  hltL1IsoLargeWindowSingleElectronTrackIsolFilter.isoTag   = l1IsoLargeWindowElectronTrackIsol
#      double pttrackisolcut = 0.06
#      int32 ncandcut         = 1

#--------------------------------------------------------------------#
#--------------------------------------------------------------------#

  module singleElectronL1IsoLargeWindowPresc = HLTPrescaler {
         bool   makeFilterObject = true
         uint32 prescaleFactor = 1
         uint32 eventOffset    = 0
  }



  sequence singleElectronL1IsolatedLargeWindow = {
	                     hltBegin& 
                             l1seedSingle &
		              doRegionalEgammaEcal &
                              l1IsolatedEcalClusters &
                              l1IsoRecoEcalCandidate &
                             hltL1IsoLargeWindowSingleL1MatchFilter &
                             hltL1IsoLargeWindowSingleElectronEtFilter &
                              doLocalHcalWithoutHO &
                              l1IsolatedElectronHcalIsol & 
                             hltL1IsoLargeWindowSingleElectronHcalIsolFilter &
                              doLocalPixel & // pixel rechit for SC-pixel matching
	                      pixelMatchElectronL1IsoLargeWindowSequenceForHLT & 
                             hltL1IsoLargeWindowSingleElectronPixelMatchFilter &
			      doLocalStrip & // strip rechit for the electron tracking
                              pixelMatchElectronL1IsoLargeWindowTrackingSequenceForHLT &
	                     hltL1IsoLargeWindowSingleElectronHOneOEMinusOneOPFilter &
                              l1IsoLargeWindowElectronsRegionalRecoTracker & //// here the regional is obtained by
                              l1IsoLargeWindowElectronTrackIsol & 
                             hltL1IsoLargeWindowSingleElectronTrackIsolFilter &
                                                      
                             singleElectronL1IsoLargeWindowPresc
                            }

