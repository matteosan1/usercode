process PRODEGAMMAHLT =  {
  #keep the logging output to a nice level
  #include "FWCore/MessageLogger/data/MessageLogger.cfi"

      service = MessageLogger
      {
       untracked vstring destinations = { "cout" }
       untracked PSet cout = { untracked string threshold = "WARNING" } 
       #untracked vstring debugModules =  {  "singleElectron"
       #                                   , "DoubleElectron"
       #                                   , "RelaxedDoubleElectron"
       #                                   , "SinglePhoton"
       #                                   , "DoublePhoton"
       #                                   , "RelaxedDoublePhoton"
       #                                  }
      }

  # Randomize the thing...
  service = RandomNumberGeneratorService
  {
      untracked uint32 sourceSeed = 98765
      PSet moduleSeeds =
      {
         untracked uint32 VtxSmeared = 12345678
         untracked uint32 g4SimHits = 9876
         untracked uint32 mix = 12345
      }
  }

  # Z --> e+e- generation (no gamma* here)
  source = PythiaSource 
  { 
      untracked int32 maxEvents = 2
      untracked int32 pythiaPylistVerbosity = 0
      untracked bool pythiaHepMCVerbosity = false
      untracked int32 maxEventsToPrint = 0
      #untracked double comEnergy = 14000.

      PSet PythiaParameters = {

            # This is a vector of ParameterSet names to be read, in this order
            vstring parameterSets = {
                  "pythiaUESettings", 
                  "processParameters"
            }

            include "Configuration/Generator/data/PythiaUESettings.cfi"

            vstring processParameters = {
                  "MSEL=0                  !User defined processes",
                  "MSUB(1)=1               !Incl Z0/gamma* production",
                  "MSTP(43)=2              !Only Z0", 
                  "MDME(174,1)=0           !Z decay into d dbar",        
                  "MDME(175,1)=0           !Z decay into u ubar",
                  "MDME(176,1)=0           !Z decay into s sbar",
                  "MDME(177,1)=0           !Z decay into c cbar",
                  "MDME(178,1)=0           !Z decay into b bbar",
                  "MDME(179,1)=0           !Z decay into t tbar",
                  "MDME(182,1)=1           !Z decay into e- e+",
                  "MDME(183,1)=0           !Z decay into nu_e nu_ebar",
                  "MDME(184,1)=0           !Z decay into mu- mu+",
                  "MDME(185,1)=0           !Z decay into nu_mu nu_mubar",
                  "MDME(186,1)=0           !Z decay into tau- tau+",
                  "MDME(187,1)=0           !Z decay into nu_tau nu_taubar"
                 }
      }
  }


  # Simulation
  include "Configuration/StandardSequences/data/Simulation.cff"
  include "Configuration/StandardSequences/data/MixingNoPileUp.cff"
  include "Configuration/StandardSequences/data/VtxSmearedGauss.cff"
  #local reconstruction
 

  path p0 = {simulation}



 include "HLTrigger/Egamma/data/EgammaHLT.cff"
 include "HLTrigger/Egamma/data/SingleElectron.cff"
 include "HLTrigger/Egamma/data/DoubleElectron.cff"
 include "HLTrigger/Egamma/data/RelaxedDoubleElectron.cff"
 include "HLTrigger/Egamma/data/SinglePhoton.cff"
 include "HLTrigger/Egamma/data/DoublePhoton.cff"
 include "HLTrigger/Egamma/data/RelaxedDoublePhoton.cff"


 path SingleElectron = {singleElectron}
 path DoubleElectron = {doubleElectron}
 path RelaxedDoubleElectron = {relaxedDoubleElectron}
 path SinglePhoton = {singlePhoton}
 path DoublePhoton = {doublePhoton}
 path RelaxedDoublePhoton = {relaxedDoublePhoton}

include "Configuration/EventContent/data/EventContent.cff"
    module out = PoolOutputModule {
    untracked string fileName = "Zee.root"
    untracked vstring outputCommands = {
            #"keep *"
      # Starting point: drop everything
            "drop *",
        "keep *_TriggerResults_*_*",
        "keep *_l1extraParticles_*_*",
        "keep *_l1extraParticleMap_*_*",
        "keep *_l1seedSingle_*_*",
        "keep *_l1seedDouble_*_*",
        "keep *_l1seedRelaxedDouble_*_*",
        "keep *_L1GctEmuDigis_*_*",
        "keep *_L1RCTRegionSumsEmCands_*_*",
        "keep recoBasicClusters_*_*_EGAMMAHLT",
        "keep recoSuperClusters_*_*_EGAMMAHLT",
        "keep recoRecoEcalCandidates_*_*_*",
        "keep *_hltSingleL1MatchFilter_*_*",
        "keep *_hltSingleElectronEtFilter_*_*",
        "keep *_hltSingleElectronHcalIsolFilter_*_*",
        "keep *_hltSingleElectronTrackIsolFilter_*_*",
        "keep *_hltSingleElectronPixelMatchFilter_*_*",
        "keep *_hltDoubleL1MatchFilter_*_*",
        "keep *_hltDoubleElectronEtFilter_*_*",
        "keep *_hltDoubleElectronHcalIsolFilter_*_*",
        "keep *_hltDoubleElectronTrackIsolFilter_*_*",
        "keep *_hltDoubleElectronPixelMatchFilter_*_*",
        "keep *_hltRelaxedDoubleL1MatchFilter_*_*",
        "keep *_hltRelaxedDoubleElectronEtFilter_*_*",
        "keep *_hltRelaxedDoubleElectronHcalIsolFilter_*_*",
        "keep *_hltRelaxedDoubleElectronTrackIsolFilter_*_*",
        "keep *_hltRelaxedDoubleElectronPixelMatchFilter_*_*",
        "keep *_pixelMatchElectronsForHLT_*_*",
        "keep *_hltSinglePhotonEtFilter_*_*",
        "keep *_hltSinglePhotonEcalIsolFilter_*_*",
        "keep *_hltSinglePhotonHcalIsolFilter_*_*",
        "keep *_hltSinglePhotonTrackIsolFilter_*_*",
        "keep *_hltDoubleL1MatchFilter_*_*",
        "keep *_hltDoublePhotonDoubleEtFilter_*_*",
        "keep *_hltRelaxedDoubleL1MatchFilter_*_*",
        "keep *_hltRelaxedDoublePhotonEtFilter_*_*",
        "keep *_hltRelaxedDoublePhotonEcalIsolFilter_*_*",
        "keep *_hltRelaxedDoublePhotonHcalIsolFilter_*_*",
        "keep *_hltRelaxedDoublePhotonTrackIsolFilter_*_*",
        "keep *_hltRelaxedDoublePhotonDoubleEtFilter_*_*"
	    
      # Keep all objects created by this process
            #"keep *_*_*_PRODEGAMMAHLT"
	}

    untracked PSet SelectEvents = { vstring SelectEvents = 
         {"SingleElectron","DoubleElectron","RelaxedDoubleElectron",
          "SinglePhoton","DoublePhoton","RelaxedDoublePhoton"
        }}
  }

  # HLTrigger/Timer configuration
  #include "HLTrigger/Timer/data/timer.cfi"

  endpath outpath = {out}
  #endpath outpath = {myTimer, out}

  untracked PSet options = {
     untracked bool wantSummary = true  # default is false
     untracked bool makeTriggerResults = true 
     vstring listOfTriggers = {"SingleElectron","DoubleElectron","RelaxedDoubleElectron",
                               "SinglePhoton","DoublePhoton","RelaxedDoublePhoton"	
                              }
  }

  #schedule = {p0,SingleElectron,DoubleElectron,RelaxedDoubleElectron,SinglePhoton,DoublePhoton,RelaxedDoublePhoton}

}
